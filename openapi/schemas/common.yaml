# Common schemas: enums, timestamps, pagination, errors
# Car Infotainment Ad Platform - OpenAPI 3.0

AdvertiserType:
  type: string
  enum:
    - individual
    - business
    - enterprise
    - agency
  description: Advertiser classification

ContactType:
  type: string
  enum:
    - admin
    - manager
    - sales
    - support
    - marketing
    - tech
    - it
    - hr
    - finance
    - operations
    - technical
  description: Contact role or type

DeviceType:
  type: string
  enum:
    - shop
    - car
    - house
  description: Physical device type

DeviceRating:
  type: string
  enum:
    - economy
    - standard
    - premium
    - luxury
  description: Device tier/rating

DisplaySize:
  type: string
  enum:
    - s
    - m
    - l
    - xl
    - xxl
  description: Display size category

StatusEnum:
  type: string
  enum:
    - active
    - inactive
    - paused
    - draft
    - expired
  description: Campaign/ad status

AgeGroup:
  type: string
  enum:
    - "0-5"
    - "6-12"
    - "13-18"
    - "19-35"
    - "36-55"
    - "55+"
  description: Target audience age group

DeviceGroupStatus:
  type: string
  enum:
    - active
    - deleted
    - paused
  description: Device group status

# --- Timestamps and audit ---

Timestamps:
  type: object
  properties:
    created_at:
      type: string
      format: date-time
      description: Creation timestamp (ISO 8601)
    updated_at:
      type: string
      format: date-time
      nullable: true
      description: Last update timestamp
    deleted_at:
      type: string
      format: date-time
      nullable: true
      description: Soft delete timestamp

AuditFields:
  type: object
  properties:
    created_by_id:
      type: string
      format: uuid
      nullable: true
      description: User who created the record
    updated_by_id:
      type: string
      format: uuid
      nullable: true
      description: User who last updated the record

# --- Pagination ---

PaginationParams:
  type: object
  properties:
    limit:
      type: integer
      minimum: 1
      maximum: 100
      default: 20
      description: Max items per page
    offset:
      type: integer
      minimum: 0
      default: 0
      description: Number of items to skip

PaginationMeta:
  type: object
  required:
    - total_count
    - limit
    - offset
  properties:
    total_count:
      type: integer
      minimum: 0
      description: Total number of items
    limit:
      type: integer
      description: Page size
    offset:
      type: integer
      description: Current offset

# --- Geographic ---

GeoPoint:
  type: object
  description: Latitude/longitude for PostGIS location
  properties:
    latitude:
      type: number
      format: double
      minimum: -90
      maximum: 90
    longitude:
      type: number
      format: double
      minimum: -180
      maximum: 180

# --- Error responses ---

ErrorDetail:
  type: object
  properties:
    code:
      type: string
      description: Error code
    message:
      type: string
      description: Human-readable message
    field:
      type: string
      nullable: true
      description: Request field that caused the error

ErrorResponse:
  type: object
  required:
    - error
  properties:
    error:
      type: object
      required:
        - code
        - message
      properties:
        code:
          type: string
          example: VALIDATION_ERROR
        message:
          type: string
          example: Invalid request payload
        details:
          type: array
          items:
            $ref: '#/ErrorDetail'
